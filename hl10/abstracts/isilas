Extreme Cloud Storage on FreeBSD

В России готовится к запуску уникальный массовый медиа проект. Детали пока не
афишируются, но нет секрета в том, что к технической части были выдвинуты
беспрецедентные требования. Одна из важнейших подсистем - файловое хранилище. О
ней и пойдёт речь в докладе.

К системным разработчикам был выдвинут стандартный набор требований:
- высокая общая скорость доступа - десятки гигабит в секунду
- солидный объём основных данных - сотни терабайт
- потеря данных недопустима
- бесперебойная доступность
- гео-распределённость с сомнительной внутренней связностью
- краткие сроки разработки и ввода в эксплуатацию
- соответствие консервативному бюджету
- линейное масштабирование по всем характеристикам на два порядка
- максимальная простота эксплуатации
- continuous self-healing, on-demand self-desctruction
- и т.д.

Мы привлекли инженеров с большим опытом в предметной области, изучили
комплексные и частичные решения от таких лидеров отрасли, как Sun/Oracle,
Isilon, IBM, DataDirect Networks, NetApp, Panasas, Xyratex, Backblaze и других.
Мы столкнулись с тем, что объективные российские реалии выдвигают к
распределённым системам хранения данных такие требования, под которые не
разрабатывалось ни одно из ведущих мировых решений. В итоге мы были вынуждены
разработать и запустить собственное файловое хранилище.

В качестве ключевых технологий были использованы ОС FreeBSD и файловая система
UFS2 и IP для коммутации. Для передачи данных пока хорошо себя показывает HTTP
(nginx в качестве target), а прототип диспетчера данных работает на базе данных
PostgreSQL и языках sh и python.

Хранилище находится на стадии раннего прототипа, но уже успешно решает
производственные задачи. О подробностях реализации и ближайших планах - в
докладе.
